# Myboard
AWS EC2로 구동되는 node.js 게시판 서버입니다.

[게시판 주소](http://ec2-13-125-250-131.ap-northeast-2.compute.amazonaws.com/)

이 Node.js로 작성된 웹 앱을 구동하는데에는 AWS의 비밀 키, 이메일 아이디, 비밀번호 등의 비밀 데이터가 필요하기 때문에 이 github repository는 정상적으로 작동하지 않습니다.

## 구동 원리
AWS EC2로 node.js로 구성된 게시판 웹 앱을 동작시킵니다.
사용되는 데이터베이스는 AWS RDS로 작동하는 MySQL DB이며, 이미지 파일 처리를 위해 따로 AWS S3 스토리지를 사용하고 있습니다.

### 회원 관리
회원 관리를 위한 회원가입, 로그인, 로그아웃, 이메일 인증, 아이디 비밀번호 변경 등의 기능이 구현되어 있습니다. 
특히 Socket.io 모듈을 사용, 회원가입, 아이디, 이메일 변경과 같은 페이지에서 페이지 변환 없이 실시간으로 아이디, 닉네임, 이메일 주소등이 중복되는지 체크할 수 있도록 하였습니다.
그리고 조건을 만족하지 않을 경우 submit 버튼이 비활성화 되고, 조건을 모두 만족할 때에만 활성화 되도록 하였습니다.
비밀번호는 crypto모듈을 통해 암호화되어 DB에 저장되어 사용됩니다.

### 게시판 내용
게시판 CRUD, 댓글, 대댓글, 페이징 처리, 검색기능 등 게시판이 갖추어야 하는 기본적인 기능들을 대부분 직접 구현하였으며 글 에디터는 Summernote를 활용하였습니다.
Summernote의 이미지 업로드 기능을 Multer-s3 모듈과 결합하여 AWS S3 스토리지와 연동시켰으며, 이미지가 업로드 될 때 업로드된 이미지의 url을 다시 클라이언트로 전송하기 위해 Socket.io 모듈을 활용하고 있습니다.
댓글과 대댓글은 DB 내부 댓글 테이블에 여러가지 구성 요소들을 넣어 구현하였습니다.

### DB 구성
데이터베이스는 다음과 같이 구성되었습니다.
myboard - sessions (세션 테이블)
myboard - users (유저정보 테이블)
myboard_board_n - board (글 내용 테이블)
myboard_board_n - comments (댓글 테이블)
새로운 게시판을 만들기 위해서는 스키마를 복제해 연결해주어야 합니다.

### 프론트 사이드
Bootstrap을 활용하여 보이는 부분들을 대부분 구성하였습니다. 어느 정도의 가독성을 갖추는 것을 목표로 하였습니다.  
  
### 백엔드 사이드
우선 코드들의 재사용성을 염두에 두고 작업하였습니다. 특히 웹 앱 내부에 게시판을 추가해야 하는 경우가 있을 것이라 생각하여 게시판들을 쉽게 복제할 수 있도록 하는 것이 하나의 목표였기 때문에 게시판을 복제할 수 있도록 따로 파일을 만들었습니다. "/routes/board_structure.js" 파일 안에 있는 주석을 참조하면 누구나 새로운 게시판을 만들 수 있을 것입니다.
또한 코드의 가독성을 높이고, 여러가지 파일들로 분리하여 유지보수를 쉽게 할 수 있도록 하려 나름 여러가지 시도를 하였습니다.
  
### 프로젝트 진행
전부 개인 프로젝트로 진행되었으며 게시판에 들어가야하는 요소들(회원가입, 로그인, CRUD, 페이징 처리, 댓글, 대댓글, 조회수 등)을 정리한 다음 구현하였습니다.
작업 진행중에도 코드의 가독성, 재사용성, 효율성 따위를 최대한 고민하고자 노력하였습니다.
웹 앱을 완성한 뒤에는 AWS 프리티어를 발급받아 Node.js 서버를 인터넷 상에서 실제로 구동하는 것까지 성공하였습니다.
